# ✅ Telegraph Finder 部署检查清单

## 📋 部署前检查

### 服务器环境
- [ ] Node.js 16+ 已安装
- [ ] npm 已安装
- [ ] 足够的磁盘空间（建议至少2GB）
- [ ] 服务器可以访问互联网（用于安装依赖）

### 网络配置
- [ ] 防火墙配置正确
- [ ] 端口3000可访问（或已配置反向代理）
- [ ] 域名解析正确（如使用域名）
- [ ] SSL证书准备就绪（如使用HTTPS）

### 文件准备
- [ ] 应用文件已上传到服务器
- [ ] .env 文件已配置
- [ ] 文件权限设置正确
- [ ] 备份目录已创建

## 🚀 部署过程检查

### 依赖安装
- [ ] `npm install` 执行成功
- [ ] 所有依赖包安装完成
- [ ] 没有严重的安全漏洞警告

### 数据库初始化
- [ ] SQLite数据库文件创建成功
- [ ] 用户表创建成功
- [ ] 默认管理员账户创建成功
- [ ] 数据库文件权限正确

### 服务启动
- [ ] 服务器启动成功
- [ ] 端口监听正常
- [ ] 没有启动错误
- [ ] 日志输出正常

## 🔧 部署后验证

### 基础功能测试
- [ ] 健康检查端点响应正常 (`/health`)
- [ ] 登录页面可以访问 (`/finder/login`)
- [ ] 登录功能正常工作
- [ ] 文件管理页面可以访问 (`/finder`)
- [ ] 文件上传功能正常
- [ ] 文件下载功能正常

### 安全配置验证
- [ ] 默认密码已更改
- [ ] 会话配置正确
- [ ] HTTPS配置正确（如适用）
- [ ] 防火墙规则正确
- [ ] 文件权限安全

### 性能和监控
- [ ] 内存使用正常
- [ ] CPU使用正常
- [ ] 日志记录正常
- [ ] 进程管理配置正确（如使用PM2）

## 🔄 维护检查

### 备份配置
- [ ] 数据库备份脚本配置
- [ ] 上传文件备份配置
- [ ] 自动备份计划设置
- [ ] 备份恢复测试

### 监控配置
- [ ] 应用状态监控
- [ ] 错误日志监控
- [ ] 磁盘空间监控
- [ ] 内存使用监控

### 更新维护
- [ ] 更新流程文档化
- [ ] 回滚计划准备
- [ ] 维护窗口计划
- [ ] 联系方式更新

## 🆘 故障排除

### 常见问题
- [ ] 端口被占用 → 检查其他服务
- [ ] 权限错误 → 检查文件和目录权限
- [ ] 数据库错误 → 检查SQLite安装和权限
- [ ] 内存不足 → 检查服务器资源

### 日志检查
- [ ] 应用日志：`/path/to/logs/`
- [ ] 系统日志：`/var/log/`
- [ ] Nginx日志：`/var/log/nginx/`（如适用）
- [ ] PM2日志：`pm2 logs`（如适用）

## 📞 紧急联系

### 关键信息
- **应用目录**: `/opt/telegraph-finder`
- **配置文件**: `.env`
- **数据库文件**: `auth.db`
- **日志目录**: `logs/`
- **备份目录**: `/opt/backups/telegraph-finder`

### 快速命令
```bash
# 查看服务状态
pm2 status telegraph-finder

# 重启服务
pm2 restart telegraph-finder

# 查看日志
pm2 logs telegraph-finder

# 检查端口
netstat -tlnp | grep 3000

# 检查进程
ps aux | grep node
```

---

**完成日期**: ___________  
**部署人员**: ___________  
**验证人员**: ___________
